<!DOCTYPE html>
<html>
  <head>
    <title>pearid Extension Options</title>
  </head>
  <body>
    <button id="generate">Generate New Keypair</button>
    <b>Warning:</b> PairId only stores these keys locally and there is no
    way to recover a lost private key, so consider storing your keys
    (especialy your private key) somewhere private and secure.

    <h2>Public Key</h2>
    This can be shared with anyone and will be automatically
    filled into webpages that ask for it (prompting you first).
    <p><textarea rows="24" cols="70" id="public-key"></textarea>
    <p>Import: <input type="file" id="public-file"></input>

    <h2>Private Key</h2>
    <p><b>Do not share this value with anyone.</b>
    <p>Your private key is used to fill out <i>pearid-signature</i> fields in
    pages you visit. The pages can then use your public key to verify you
    created the content. 
    <p><textarea rows="12" cols="70" id="private-key"></textarea>
    <p>Import: <input type="file" id="private-file"></input>
    <p><b>Security Warning</b>:
    this value is only as secure as your computer is. If your computer is
    compromised then attackers can likely access it. However, it should
    be safe from other extensions or websites you visit.

    <p>Alternatively you can generate these values with:</p>
    <pre>
       openssl genrsa -out pearid.private 4096
       openssl rsa -in pearid.private -pubout -out pearid.public
    </pre>

    <p><b>Note:</b> You should be able to use the latter command to recover a public
    key if you still have your private key. However, it's better to just store
    them both as servers depend on your public key being the same.
    <div id="status"></div>
    <button id="save">Save</button>
    <script src="pearid_options.js"></script>
  </body>
</html>
